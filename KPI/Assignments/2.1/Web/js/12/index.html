 <HTML>
 <HEAD>
 	<meta charset="utf-8">
 	<title>Web lab 4.12</title>
	<script>
		const ERROR_NAME_NOT_PROVIDED = "Please provide your full name"
		const ERROR_NAME_INVALID_CHARS = "Name cannot contain numbers or symbols"
		const ERROR_EMAIL_EMPTY = "Please provide your email"
		const ERROR_EMAIL_INVALID = "Invalid email"
		const ERROR_PHONE_EMPTY = "Please provide your phone number"
		const ERROR_PHONE_INVALID = "Invalid phone number"
		const ERROR_PHONE_SHORT = "Phone number too short"

		function validateName(name) {
			if (name.trim().split(" ").length < 2) showError("span_validation_name", ERROR_NAME_NOT_PROVIDED)
			else if (!isOnlyLettersAndSpaces(name)) showError("span_validation_name", ERROR_NAME_INVALID_CHARS)
			else showInputValid("span_validation_name")
		}

		function validateEmail(email) {
			if (email.length == 0) showError("span_validation_email", ERROR_EMAIL_EMPTY)
			else if (!email.match(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/)) showError("span_validation_email", ERROR_EMAIL_INVALID)
			else showInputValid("span_validation_email")
		}

		function validatePhone(phone) {
			if (phone.length == 0) showError("span_validation_phone", ERROR_PHONE_EMPTY)
			else if (!isAllNumbers(phone)) showError("span_validation_phone", ERROR_PHONE_INVALID)
			else if (phone.length < 7) showError("span_validation_phone", ERROR_PHONE_SHORT)
			else showInputValid("span_validation_phone")
		}

		function isOnlyLettersAndSpaces(str) {
			for (var i = 0; i < str.length; i++) if (!str[i].match(/[a-z]/i) && str[i] != " ") return false
			return true
		}

		function isAllNumbers(str) {
			for (var i = 0; i < str.length; i++) if (isNaN(str[i])) return false
			return true
		}

		function showError(spanId, msg) {
			document.getElementById(spanId).style.color = "red"
			document.getElementById(spanId).innerHTML = msg
		}

		function showInputValid(spanId) {
			document.getElementById(spanId).innerHTML = "âœ”"
			document.getElementById(spanId).style.color = "green"
		}

	</script>

 </HEAD>
 <BODY>
	<h3>
		<a href="../..">back</a>
		<a href="listing1.html">listing1</a>
		<a href="listing2.html">listing2</a>
	</h3>

	<div>
		<h4>Validation</h4>
		<form name="form">
			<input type="text" name="name" placeholder="Full name" oninput="validateName(this.value)">
			<span id="span_validation_name" style="color:red"></span>
			<br>
			<br>
			<input type="text" name="email" placeholder="Email" oninput="validateEmail(this.value)">
			<span id="span_validation_email" style="color:red"></span>
			<br>
			<br>
			<input type="text" name="phone" placeholder="Phone" oninput="validatePhone(this.value)">
			<span id="span_validation_phone" style="color:red"></span>
		</form>
	</div>


 </BODY>
</HTML> 