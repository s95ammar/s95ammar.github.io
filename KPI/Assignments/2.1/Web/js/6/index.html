 <HTML>
 <HEAD>
 	<meta charset="utf-8">
 	<title>Web lab 4.6</title>
	<script>

		var javaBaseCost = Number(10000);
		var kotlinBaseCost = Number(12000);
		var flutterBaseCost = Number(8000);

		function showHideDiv(divId, isChecked) {
			var div = document.getElementById(divId);
			if (isChecked) div.style.display = "block";
			else div.style.display = "none";
		}

		function calc() {
			var javaCost = getCoursePrice(form.course_java.checked, "java");
			var kotlinCost = getCoursePrice(form.course_kotlin.checked, "kotlin");
			var flutterCost = getCoursePrice(form.course_flutter.checked, "flutter");
			
			var result ="";
			result += getCoursePriceMsg(form.course_java.checked, "Java", javaCost);
			result += getCoursePriceMsg(form.course_kotlin.checked, "Kotlin", kotlinCost);
			result += getCoursePriceMsg(form.course_flutter.checked, "Flutter", flutterCost);

			var totalCost = javaCost + kotlinCost + flutterCost;
			result += "Загальна вартість = " + totalCost;
			document.getElementById("result").value = result;

		}

		function getCoursePrice(checked, courseName) {
			var cost = 0;
			if (checked) {
				var baseCost;
				var length;
				var lang;
				var repForm;

				switch (courseName) {
					case "java":
					baseCost = javaBaseCost;
					length = form.length_java.value;
					lang = form.lang_java.value;
					repForm = form.repForm_java.value;
					break;

					case "kotlin":
					baseCost = kotlinBaseCost;
					length = form.length_kotlin.value;
					lang = form.lang_kotlin.value;
					repForm = form.repForm_kotlin.value;
					break;

					case "flutter":
					baseCost = flutterBaseCost;
					length = form.length_flutter.value;
					lang = form.lang_flutter.value;
					repForm = form.repForm_flutter.value;
					break;
				}

				cost = baseCost * getLengthMultiplier(length) * getLangMultiplier(lang) + getRepFormCost(repForm);
			}
			return cost;
		}

		function getLengthMultiplier(length) {
			var lengthMultiplier;

			if (length == 30) lengthMultiplier = 1;
			else if (length == 45) lengthMultiplier = 1.5;
			else if (length == 60) lengthMultiplier = 2;

			return lengthMultiplier;
		}

		function getLangMultiplier(language) {
			var langMultiplier;
			switch (language) {
				case "en": langMultiplier = 1; break;
				case "ru": langMultiplier = 1.1; break;
				case "ua": langMultiplier = 1.2; break;
			}
			return langMultiplier;
		}

		function getRepFormCost(repForm) {
			var repFormCost;

			if (repForm == 1) repFormCost = 100;
			else if (repForm == 2) repFormCost = 200;
			else if (repForm == 3) repFormCost = 300;

			return repFormCost;
		}


		function getCoursePriceMsg(checked, name, cost) {
			var msg = "";
			if (checked)
				msg += "Вартість курсу " + name + " = " + cost + ". ";
			return msg;
		}


	</script>

 </HEAD>
 <BODY>
	<h3>
		<a href="../..">back</a>
		<a href="listing1.html">listing1</a>
		<a href="listing2.html">listing2</a>
	</h3>

	<h4>1. Анкета слухача курсів</h4>
		<form name="form">
			Курс:<br>
			<input type="checkbox" name="course_java" value="Java" onchange="showHideDiv('div_java', this.checked)">Java<br>
			<input type="checkbox" name="course_kotlin" value="Kotlin" onchange="showHideDiv('div_kotlin', this.checked)">Kotlin<br>
			<input type="checkbox" name="course_flutter" value="Flutter" onchange="showHideDiv('div_flutter', this.checked)">Flutter<br>
			<input type="button" value="Показати вартість" onClick="calc()">
			<input type="text" id="result" size=100>
			<input type="reset" value="Скасувати" onclick="showHideDiv('div_java', false); showHideDiv('div_kotlin', false); showHideDiv('div_flutter', false)">			

			<div id="div_java" hidden>
				<h2>Java course:</h2>
				Тривалість (Години):<br>
				<input type="radio" name="length_java" value=30 checked="true">30<br>
				<input type="radio" name="length_java" value=45>45<br>
				<input type="radio" name="length_java" value=60>60<br>
				<br>Мова:<br>
				<input type="radio" name="lang_java" value="en" checked="true">Англійська<br>
				<input type="radio" name="lang_java" value="ru">Російська<br>
				<input type="radio" name="lang_java" value="ua">Українська<br>
				<br>Форма звітності:<br>
				<input type="radio" name="repForm_java" value=1 checked="true">1<br>
				<input type="radio" name="repForm_java" value=2>2<br>
				<input type="radio" name="repForm_java" value=3>3<br>
			</div>

			<div id="div_kotlin" hidden>
				<h2>Kotlin course:</h2>
				Тривалість (Години):<br>
				<input type="radio" name="length_kotlin" value=30 checked="true">30<br>
				<input type="radio" name="length_kotlin" value=45>45<br>
				<input type="radio" name="length_kotlin" value=60>60<br>
				<br>Мова:<br>
				<input type="radio" name="lang_kotlin" value="en" checked="true">Англійська<br>
				<input type="radio" name="lang_kotlin" value="ru">Російська<br>
				<input type="radio" name="lang_kotlin" value="ua">Українська<br>
				<br>Форма звітності:<br>
				<input type="radio" name="repForm_kotlin" value=1 checked="true">1<br>
				<input type="radio" name="repForm_kotlin" value=2>2<br>
				<input type="radio" name="repForm_kotlin" value=3>3<br>
			</div>

			<div id="div_flutter" hidden>
				<h2>Flutter course:</h2>
				Тривалість (Години):<br>
				<input type="radio" name="length_flutter" value=30 checked="true">30<br>
				<input type="radio" name="length_flutter" value=45>45<br>
				<input type="radio" name="length_flutter" value=60>60<br>
				<br>Мова:<br>
				<input type="radio" name="lang_flutter" value="en" checked="true">Англійська<br>
				<input type="radio" name="lang_flutter" value="ru">Російська<br>
				<input type="radio" name="lang_flutter" value="ua">Українська<br>
				<br>Форма звітності:<br>
				<input type="radio" name="repForm_flutter" value=1 checked="true">1<br>
				<input type="radio" name="repForm_flutter" value=2>2<br>
				<input type="radio" name="repForm_flutter" value=3>3<br>
			</div>
 		</form>



 </BODY>
</HTML> 